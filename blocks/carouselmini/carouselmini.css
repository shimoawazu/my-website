/* ===== carouselmini (3-up infinite slider)
   - 幅:   --cm-left-w = imagelink 左の大きい画像の実幅（JSが注入）
   - 高さ: JSが「表示中の3枚の実高の最大値」を毎回 set（viewport に適用）
   - 全画像（最後の2枚を含む）をスライド対象
   - 3秒ごとに1枚送り、無限ループ
================================================================ */

.carouselmini {
  --cm-left-w: 640px;   /* フォールバック（JSが上書き） */
  --cm-per-view: 3;     /* ★ 3枚同時表示固定 */
  --cm-radius: 12px;
}

/* 外枠（JSが内側DOMを組み立てる） */
.carouselmini .carouselmini-left {
  width: var(--cm-left-w);
  max-width: 100%;
  min-width: 0;
  margin: 0 auto 0 0; /* 左基準。必要なら auto 調整 */
}

/* ビューポート：高さは JS が px で設定 */
.carouselmini .carouselmini-viewport {
  position: relative;
  overflow: hidden;
  width: 100%;
  border-radius: var(--cm-radius);
  background: #fff;
  box-shadow: 0 2px 8px rgba(0 0 0 / 6%);
}

/* 横並びトラック */
.carouselmini .carouselmini-track {
  display: flex;
  will-change: transform;
  transition: transform 400ms ease;
}

/* スライド：1枚の幅 = 100% / 3、高さは中の画像の自然高に従う */
.carouselmini .carouselmini-slide {
  flex: 0 0 calc(100% / var(--cm-per-view));
  padding: 0;
}

.carouselmini .carouselmini-slide picture,
.carouselmini .carouselmini-slide img {
  display: block;
  width: 100%;
  height: auto;            /* ★ 画像の自然比率で高さを決める */
}

/* インジケーター（画像枚数ぶん） */
.carouselmini .carouselmini-indicators {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 8px 0 0;
  margin: 0;
  list-style: none;
}

.carouselmini .carouselmini-indicators button {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  padding: 0;
  margin: 0;
  border: 0;
  background: #d0d0d0;
  cursor: pointer;
}

.carouselmini .carouselmini-indicators button[aria-current="true"] {
  background: #111;
}

/* モバイル横幅にフィット（表示枚数はJS固定のまま） */
@media (max-width: 899.98px) {
  .carouselmini .carouselmini-left {
    width: 100%;
  }
}
